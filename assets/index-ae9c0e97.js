import{f as C,S as y,h as _,r as T,i as N}from"./api-146736d6.js";function p(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var v={},D={get exports(){return v},set exports(i){v=i}};(function(i,h){(function(l){i.exports=l()})(function(){return function l(c,a,m){function f(t,o){if(!a[t]){if(!c[t]){var g=typeof p=="function"&&p;if(!o&&g)return g(t,!0);if(d)return d(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var e=a[t]={exports:{}};c[t][0].call(e.exports,function(r){return f(c[t][1][r]||r)},e,e.exports,l,c,a,m)}return a[t].exports}for(var d=typeof p=="function"&&p,n=0;n<m.length;n++)f(m[n]);return f}({1:[function(l,c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.create=a.visible=void 0;var m=function(n){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=document.createElement("div");return o.innerHTML=n.trim(),t===!0?o.children:o.firstChild},f=function(n,t){var o=n.children;return o.length===1&&o[0].tagName===t},d=function(n){return(n=n||document.querySelector(".basicLightbox"))!=null&&n.ownerDocument.body.contains(n)===!0};a.visible=d,a.create=function(n,t){var o=function(e,r){var s=m(`
		<div class="basicLightbox `.concat(r.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),b=s.querySelector(".basicLightbox__placeholder");e.forEach(function(q){return b.appendChild(q)});var E=f(b,"IMG"),x=f(b,"VIDEO"),S=f(b,"IFRAME");return E===!0&&s.classList.add("basicLightbox--img"),x===!0&&s.classList.add("basicLightbox--video"),S===!0&&s.classList.add("basicLightbox--iframe"),s}(n=function(e){var r=typeof e=="string",s=e instanceof HTMLElement==1;if(r===!1&&s===!1)throw new Error("Content must be a DOM element/node or string");return r===!0?Array.from(m(e,!0)):e.tagName==="TEMPLATE"?[e.content.cloneNode(!0)]:Array.from(e.children)}(n),t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((e=Object.assign({},e)).closable==null&&(e.closable=!0),e.className==null&&(e.className=""),e.onShow==null&&(e.onShow=function(){}),e.onClose==null&&(e.onClose=function(){}),typeof e.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof e.className!="string")throw new Error("Property `className` must be a string");if(typeof e.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof e.onClose!="function")throw new Error("Property `onClose` must be a function");return e}(t)),g=function(e){return t.onClose(u)!==!1&&function(r,s){return r.classList.remove("basicLightbox--visible"),setTimeout(function(){return d(r)===!1||r.parentElement.removeChild(r),s()},410),!0}(o,function(){if(typeof e=="function")return e(u)})};t.closable===!0&&o.addEventListener("click",function(e){e.target===o&&g()});var u={element:function(){return o},visible:function(){return d(o)},show:function(e){return t.onShow(u)!==!1&&function(r,s){return document.body.appendChild(r),setTimeout(function(){requestAnimationFrame(function(){return r.classList.add("basicLightbox--visible"),s()})},10),!0}(o,function(){if(typeof e=="function")return e(u)})},close:g};return u}},{}]},{},[1])(1)})})(D);const w=v.create(document.querySelector("#register"));function M(){w.show(),document.querySelector(".register-form").addEventListener("submit",O)}function O(i){i.preventDefault();const{name:h,email:l,password:c}=i.currentTarget.elements;C({name:h.value,email:l.value,password:c.value}).then(a=>{location.replace("/contacts.html"),localStorage.setItem(y,a.token),w.close()})}const L=v.create(document.querySelector("#login"));function k(){L.show(),document.querySelector(".login-form").addEventListener("submit",F)}function F(i){i.preventDefault();const{email:h,password:l}=i.currentTarget.elements;_({email:h.value,password:l.value}).then(c=>{location.replace("/contacts.html"),localStorage.setItem(y,c.token),L.close()})}T.addEventListener("click",M);N.addEventListener("click",k);const P=localStorage.getItem(y);P!==null&&location.replace("/contacts.html");
